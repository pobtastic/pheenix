<!DOCTYPE html>
<html>
<head>
<title>Pheenix: Routine at 79B2</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="7616.html">7616</a>
</td>
<td class="up">Up: <a href="../maps/all.html#79b2">Map</a></td>
<td class="next">
Next: <a href="7B67.html">7B67</a>
</td>
</tr>
</table>
<div class="description">79B2: Handler: Alien Explosions</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="7C82.html">TitleScreen</a> and <a href="7DD9.html">StartGame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions</td>
<td class="address-2"><span id="79b2"></span>79B2</td>
<td class="instruction">LD A,($6695)</td>
<td class="comment-1" rowspan="3">Return if bit 0 of *<a href="6695.html">Bullet_RateLimiter</a> is not set.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79b5"></span>79B5</td>
<td class="instruction">AND %00000001</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79b7"></span>79B7</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79b8"></span>79B8</td>
<td class="instruction">LD HL,$66D5</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="66D5.html">Table_AlienExplosions</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79bb"></span>79BB</td>
<td class="instruction">LD B,$06</td>
<td class="comment-1" rowspan="1">Set a counter in <span class="register">B</span> for checking 06 explosion slots.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_Loop</td>
<td class="address-2"><span id="79bd"></span>79BD</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#79ca">AlienExplosions_IsActive</a> if this explosion slot is already active.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79be"></span>79BE</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79bf"></span>79BF</td>
<td class="instruction">JR NZ,<a href="79B2.html#79ca">AlienExplosions_IsActive</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79c1"></span>79C1</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash the explosion slot counter on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79c2"></span>79C2</td>
<td class="instruction">LD B,$C8</td>
<td class="comment-1" rowspan="1">Set a delay loop counter in <span class="register">B</span> of C8 iterations.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_DelayLoop</td>
<td class="address-2"><span id="79c4"></span>79C4</td>
<td class="instruction">DJNZ <a href="79B2.html#79c4">AlienExplosions_DelayLoop</a></td>
<td class="comment-1" rowspan="1">Decrease the delay loop counter by one and loop back to <a href="79B2.html#79c4">AlienExplosions_DelayLoop</a> until the counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79c6"></span>79C6</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore the explosion slot counter from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79c7"></span>79C7</td>
<td class="instruction">JP <a href="79B2.html#7b5f">AlienExplosions_NextSlot</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7b5f">AlienExplosions_NextSlot</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="79ca"></span>
<div class="comments">
<div class="paragraph">
Process the active explosion.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_IsActive</td>
<td class="address-2"><span id="79ca"></span>79CA</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="3">Stash <span class="register">AF</span>, <span class="register">BC</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79cb"></span>79CB</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79cc"></span>79CC</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="79cd"></span>
<div class="comments">
<div class="paragraph">
Play a sound when the explosion is active (but not in demo mode).
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79cd"></span>79CD</td>
<td class="instruction">LD A,($66F3)</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7a1f">AlienExplosions_UpdatePosition</a> if *<a href="66F3.html">Flag_ActiveDemoMode</a> is active.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79d0"></span>79D0</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79d1"></span>79D1</td>
<td class="instruction">JR NZ,<a href="79B2.html#7a1f">AlienExplosions_UpdatePosition</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="79d3"></span>
<div class="comments">
<div class="paragraph">
Play the explosion sound effect based on the current phase.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79d3"></span>79D3</td>
<td class="instruction">LD A,($66F1)</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#79f8">AlienExplosions_Sound_02</a> if bit 1 of *<a href="66F1.html">Phase</a> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79d6"></span>79D6</td>
<td class="instruction">AND %00000010</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79d8"></span>79D8</td>
<td class="instruction">JR Z,<a href="79B2.html#79f8">AlienExplosions_Sound_02</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79da"></span>79DA</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="6"><span class="register">DE</span>=*<span class="register">HL</span>*08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79db"></span>79DB</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79dc"></span>79DC</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79dd"></span>79DD</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79de"></span>79DE</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79df"></span>79DF</td>
<td class="instruction">LD D,$00</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79e1"></span>79E1</td>
<td class="instruction">LD HL,$00F2</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=00F2+<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79e4"></span>79E4</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79e5"></span>79E5</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=03.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_Sound_01</td>
<td class="address-2"><span id="79e7"></span>79E7</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79e8"></span>79E8</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79e9"></span>79E9</td>
<td class="instruction">LD DE,$0002</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=0002.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79ec"></span>79EC</td>
<td class="instruction">CALL $03B5</td>
<td class="comment-1" rowspan="1">Call <a "noopener nofollow" href="https://skoolkit.ca/disassemblies/rom/hex/asm/03B5.html">BEEPER</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79ef"></span>79EF</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f0"></span>79F0</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f1"></span>79F1</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="2">Increment <span class="register">HL</span> by two.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f2"></span>79F2</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f3"></span>79F3</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f4"></span>79F4</td>
<td class="instruction">DJNZ <a href="79B2.html#79e7">AlienExplosions_Sound_01</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="79B2.html#79e7">AlienExplosions_Sound_01</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f6"></span>79F6</td>
<td class="instruction">JR <a href="79B2.html#7a1f">AlienExplosions_UpdatePosition</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7a1f">AlienExplosions_UpdatePosition</a>.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_Sound_02</td>
<td class="address-2"><span id="79f8"></span>79F8</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7a1f">AlienExplosions_UpdatePosition</a> if *<span class="register">HL</span> is not equal to 01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79f9"></span>79F9</td>
<td class="instruction">CP $01</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79fb"></span>79FB</td>
<td class="instruction">JR NZ,<a href="79B2.html#7a1f">AlienExplosions_UpdatePosition</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="79fd"></span>
<div class="comments">
<div class="paragraph">
<audio controls="" src="../audio/explosion-02.wav">
<p>Your browser doesn't support HTML5 audio. Here is a <a href="../audio/explosion-02.wav">link to the audio</a> instead.</p>
</audio>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79fd"></span>79FD</td>
<td class="instruction">LD B,$12</td>
<td class="comment-1" rowspan="1">Set a counter in <span class="register">B</span> for 12 explosion sound loops.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="79ff"></span>79FF</td>
<td class="instruction">LD HL,$0064</td>
<td class="comment-1" rowspan="1">Set the initial pitch to 0064.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_Sound_02_Loop</td>
<td class="address-2"><span id="7a02"></span>7A02</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash the explosion sound loops counter and pitch on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a03"></span>7A03</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a04"></span>7A04</td>
<td class="instruction">LD A,$64</td>
<td class="comment-1" rowspan="4">Calculate the delay counter: 64 - (<span class="register">B</span> Ã— 02).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a06"></span>7A06</td>
<td class="instruction">SUB B</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a07"></span>7A07</td>
<td class="instruction">SUB B</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a08"></span>7A08</td>
<td class="instruction">LD B,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a09"></span>7A09</td>
<td class="instruction">LD A,$10</td>
<td class="comment-1" rowspan="1">Enable the speaker (bit 4).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a0b"></span>7A0B</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_Sound_02_DelayLoop</td>
<td class="address-2"><span id="7a0c"></span>7A0C</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-1" rowspan="2">Decrease the delay counter by one and loop back to <a href="79B2.html#7a0c">AlienExplosions_Sound_02_DelayLoop</a> until the delay counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a0e"></span>7A0E</td>
<td class="instruction">DJNZ <a href="79B2.html#7a0c">AlienExplosions_Sound_02_DelayLoop</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a10"></span>7A10</td>
<td class="instruction">LD DE,$0001</td>
<td class="comment-1" rowspan="1">Set the sound duration to 0001.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a13"></span>7A13</td>
<td class="instruction">CALL $03B5</td>
<td class="comment-1" rowspan="1">Call <a "noopener nofollow" href="https://skoolkit.ca/disassemblies/rom/hex/asm/03B5.html">BEEPER</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a16"></span>7A16</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a17"></span>7A17</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore the pitch from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a18"></span>7A18</td>
<td class="instruction">LD BC,$0008</td>
<td class="comment-1" rowspan="2">Increase the pitch by 0008.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a1b"></span>7A1B</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a1c"></span>7A1C</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore the explosion sound loops counter from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a1d"></span>7A1D</td>
<td class="instruction">DJNZ <a href="79B2.html#7a02">AlienExplosions_Sound_02_Loop</a></td>
<td class="comment-1" rowspan="1">Decrease the explosion sound loops counter by one and loop back to <a href="79B2.html#7a02">AlienExplosions_Sound_02_Loop</a> until the explosion sound has finished playing.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="7a1f"></span>
<div class="comments">
<div class="paragraph">
Update the explosion position and check for scoring.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_UpdatePosition</td>
<td class="address-2"><span id="7a1f"></span>7A1F</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="3">Restore <span class="register">HL</span>, <span class="register">BC</span> and <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a20"></span>7A20</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a21"></span>7A21</td>
<td class="instruction">POP AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a22"></span>7A22</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a23"></span>7A23</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a24"></span>7A24</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a25"></span>7A25</td>
<td class="instruction">LD E,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a26"></span>7A26</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a27"></span>7A27</td>
<td class="instruction">LD D,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a28"></span>7A28</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a29"></span>7A29</td>
<td class="instruction">LD A,($66F1)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="66F1.html">Phase</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a2c"></span>7A2C</td>
<td class="instruction">AND %00000010</td>
<td class="comment-1" rowspan="1">Keep only bit 1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a2e"></span>7A2E</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a2f"></span>7A2F</td>
<td class="instruction">JR NZ,<a href="79B2.html#7a99">Handler_AlienExplosions_6</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7a99">Handler_AlienExplosions_6</a> if bit 1 of *<a href="66F1.html">Phase</a> was set.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a31"></span>7A31</td>
<td class="instruction">CP $01</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7a41">Handler_AlienExplosions_0</a> if <span class="register">A</span> is not equal to 01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a33"></span>7A33</td>
<td class="instruction">JR NZ,<a href="79B2.html#7a41">Handler_AlienExplosions_0</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a35"></span>7A35</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Stash <span class="register">DE</span> and <span class="register">AF</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a36"></span>7A36</td>
<td class="instruction">PUSH AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a37"></span>7A37</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a38"></span>7A38</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a3b"></span>7A3B</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a3c"></span>7A3C</td>
<td class="instruction">CALL <a href="7564.html">$7564</a></td>
<td class="comment-1" rowspan="1">Call <a href="7564.html">7564</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a3f"></span>7A3F</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="2">Restore <span class="register">AF</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a40"></span>7A40</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_0</td>
<td class="address-2"><span id="7a41"></span>7A41</td>
<td class="instruction">CP $04</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7a61">Handler_AlienExplosions_2</a> if <span class="register">A</span> is not equal to 04.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a43"></span>7A43</td>
<td class="instruction">JR NZ,<a href="79B2.html#7a61">Handler_AlienExplosions_2</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a45"></span>7A45</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Stash <span class="register">DE</span> and <span class="register">AF</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a46"></span>7A46</td>
<td class="instruction">PUSH AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a47"></span>7A47</td>
<td class="instruction">LD HL,$652D</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="6528.html#652d">652D</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a4a"></span>7A4A</td>
<td class="instruction">LD (HL),$38</td>
<td class="comment-1" rowspan="1">Write 38 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a4c"></span>7A4C</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7a56">Handler_AlienExplosions_1</a> if <span class="register">D</span> is equal to 5A.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a4d"></span>7A4D</td>
<td class="instruction">CP $5A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a4f"></span>7A4F</td>
<td class="instruction">JR Z,<a href="79B2.html#7a56">Handler_AlienExplosions_1</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a51"></span>7A51</td>
<td class="instruction">LD (HL),$32</td>
<td class="comment-1" rowspan="1">Write 32 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a53"></span>7A53</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a54"></span>7A54</td>
<td class="instruction">LD (HL),$35</td>
<td class="comment-1" rowspan="1">Write 35 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_1</td>
<td class="address-2"><span id="7a56"></span>7A56</td>
<td class="instruction">CALL <a href="67B6.html">Handler_Score</a></td>
<td class="comment-1" rowspan="1">Call <a href="67B6.html">Handler_Score</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a59"></span>7A59</td>
<td class="instruction">CALL <a href="67A9.html">PrintScore</a></td>
<td class="comment-1" rowspan="1">Call <a href="67A9.html">PrintScore</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a5c"></span>7A5C</td>
<td class="instruction">CALL <a href="681C.html">PrintLives</a></td>
<td class="comment-1" rowspan="1">Call <a href="681C.html">PrintLives</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a5f"></span>7A5F</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="2">Restore <span class="register">AF</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a60"></span>7A60</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_2</td>
<td class="address-2"><span id="7a61"></span>7A61</td>
<td class="instruction">CP $07</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 07.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a63"></span>7A63</td>
<td class="instruction">LD BC,$0344</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0344.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a66"></span>7A66</td>
<td class="instruction">JR C,<a href="79B2.html#7a73">Handler_AlienExplosions_3</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7a73">Handler_AlienExplosions_3</a> if <span class="register">A</span> is less than 07.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a68"></span>7A68</td>
<td class="instruction">LD HL,$6535</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="652F.html#6535">Table_ExplosionUDGs_03</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a6b"></span>7A6B</td>
<td class="instruction">CP $09</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7a82">Handler_AlienExplosions_5</a> if <span class="register">A</span> is less than 09.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a6d"></span>7A6D</td>
<td class="instruction">JR C,<a href="79B2.html#7a82">Handler_AlienExplosions_5</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a6f"></span>7A6F</td>
<td class="instruction">LD C,$03</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=03.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a71"></span>7A71</td>
<td class="instruction">JR <a href="79B2.html#7a82">Handler_AlienExplosions_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7a82">Handler_AlienExplosions_5</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_3</td>
<td class="address-2"><span id="7a73"></span>7A73</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1">Increment <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a74"></span>7A74</td>
<td class="instruction">CP $04</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7a7d">Handler_AlienExplosions_4</a> if <span class="register">A</span> is less than 04.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a76"></span>7A76</td>
<td class="instruction">JR C,<a href="79B2.html#7a7d">Handler_AlienExplosions_4</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a78"></span>7A78</td>
<td class="instruction">LD HL,$6532</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="652F.html#6532">Table_ExplosionUDGs_02</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a7b"></span>7A7B</td>
<td class="instruction">JR <a href="79B2.html#7a82">Handler_AlienExplosions_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7a82">Handler_AlienExplosions_5</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_4</td>
<td class="address-2"><span id="7a7d"></span>7A7D</td>
<td class="instruction">LD C,$47</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=47.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a7f"></span>7A7F</td>
<td class="instruction">LD HL,$652F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="652F.html">Table_ExplosionUDGs_01</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_5</td>
<td class="address-2"><span id="7a82"></span>7A82</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a83"></span>7A83</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a84"></span>7A84</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a87"></span>7A87</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="2">Stash <span class="register">HL</span> and <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a88"></span>7A88</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a89"></span>7A89</td>
<td class="instruction">LD BC,$50C0</td>
<td class="comment-1" rowspan="3"><span class="register">HL</span>-=50C0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a8c"></span>7A8C</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a8d"></span>7A8D</td>
<td class="instruction">SBC HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a8f"></span>7A8F</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="2">Restore <span class="register">BC</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a90"></span>7A90</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a91"></span>7A91</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a92"></span>7A92</td>
<td class="instruction">CALL C,<a href="676F.html#677b">CustomFont_PrintString</a></td>
<td class="comment-1" rowspan="1">Call <a href="676F.html#677b">CustomFont_PrintString</a> if <span class="register">A</span> is less than 00.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a95"></span>7A95</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a96"></span>7A96</td>
<td class="instruction">JP <a href="79B2.html#7b30">Handler_AlienExplosions_14</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7b30">Handler_AlienExplosions_14</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_6</td>
<td class="address-2"><span id="7a99"></span>7A99</td>
<td class="instruction">CP $01</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7aae">Handler_AlienExplosions_7</a> if <span class="register">A</span> is not equal to 01.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a9b"></span>7A9B</td>
<td class="instruction">JR NZ,<a href="79B2.html#7aae">Handler_AlienExplosions_7</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a9d"></span>7A9D</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Stash <span class="register">DE</span> and <span class="register">AF</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a9e"></span>7A9E</td>
<td class="instruction">PUSH AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7a9f"></span>7A9F</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aa0"></span>7AA0</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aa3"></span>7AA3</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aa4"></span>7AA4</td>
<td class="instruction">CALL <a href="7564.html">$7564</a></td>
<td class="comment-1" rowspan="1">Call <a href="7564.html">7564</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aa7"></span>7AA7</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="2">Restore <span class="register">AF</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aa8"></span>7AA8</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aa9"></span>7AA9</td>
<td class="instruction">INC DE</td>
<td class="comment-1" rowspan="1">Increment <span class="register">DE</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aaa"></span>7AAA</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aab"></span>7AAB</td>
<td class="instruction">DEC DE</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">DE</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aac"></span>7AAC</td>
<td class="instruction">JR <a href="79B2.html#7aeb">Handler_AlienExplosions_10</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7aeb">Handler_AlienExplosions_10</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_7</td>
<td class="address-2"><span id="7aae"></span>7AAE</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7aeb">Handler_AlienExplosions_10</a> if <span class="register">A</span> is not equal to 02.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ab0"></span>7AB0</td>
<td class="instruction">JR NZ,<a href="79B2.html#7aeb">Handler_AlienExplosions_10</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ab2"></span>7AB2</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="2">Stash <span class="register">AF</span> and <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ab3"></span>7AB3</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ab4"></span>7AB4</td>
<td class="instruction">LD HL,$652C</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="6528.html#652c">652C</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ab7"></span>7AB7</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ab8"></span>7AB8</td>
<td class="instruction">LD (HL),$31</td>
<td class="comment-1" rowspan="1">Write 31 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aba"></span>7ABA</td>
<td class="instruction">LD A,($6691)</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7acc">Handler_AlienExplosions_9</a> if *<a href="6691.html">6691</a> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7abd"></span>7ABD</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7abe"></span>7ABE</td>
<td class="instruction">JR Z,<a href="79B2.html#7acc">Handler_AlienExplosions_9</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ac0"></span>7AC0</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7ac9">Handler_AlienExplosions_8</a> if <span class="register">D</span> is less than 59.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ac1"></span>7AC1</td>
<td class="instruction">CP $59</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ac3"></span>7AC3</td>
<td class="instruction">JR C,<a href="79B2.html#7ac9">Handler_AlienExplosions_8</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ac5"></span>7AC5</td>
<td class="instruction">LD (HL),$32</td>
<td class="comment-1" rowspan="1">Write 32 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ac7"></span>7AC7</td>
<td class="instruction">JR Z,<a href="79B2.html#7acc">Handler_AlienExplosions_9</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7acc">Handler_AlienExplosions_9</a> if <span class="register">A</span> is equal to 59.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_8</td>
<td class="address-2"><span id="7ac9"></span>7AC9</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aca"></span>7ACA</td>
<td class="instruction">LD (HL),$35</td>
<td class="comment-1" rowspan="1">Write 35 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_9</td>
<td class="address-2"><span id="7acc"></span>7ACC</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7acd"></span>7ACD</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad0"></span>7AD0</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad1"></span>7AD1</td>
<td class="instruction">LD BC,$50C0</td>
<td class="comment-1" rowspan="3"><span class="register">HL</span>-=50C0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad4"></span>7AD4</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad5"></span>7AD5</td>
<td class="instruction">SBC HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad7"></span>7AD7</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad8"></span>7AD8</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ad9"></span>7AD9</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ada"></span>7ADA</td>
<td class="instruction">LD BC,$0345</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0345.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7add"></span>7ADD</td>
<td class="instruction">CALL C,<a href="676F.html">Configurable_PrintString</a></td>
<td class="comment-1" rowspan="1">Call <a href="676F.html">Configurable_PrintString</a> if <span class="register">A</span> is less than 00.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ae0"></span>7AE0</td>
<td class="instruction">CALL <a href="67B6.html">Handler_Score</a></td>
<td class="comment-1" rowspan="1">Call <a href="67B6.html">Handler_Score</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ae3"></span>7AE3</td>
<td class="instruction">CALL <a href="67A9.html">PrintScore</a></td>
<td class="comment-1" rowspan="1">Call <a href="67A9.html">PrintScore</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ae6"></span>7AE6</td>
<td class="instruction">CALL <a href="681C.html">PrintLives</a></td>
<td class="comment-1" rowspan="1">Call <a href="681C.html">PrintLives</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ae9"></span>7AE9</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="2">Restore <span class="register">DE</span> and <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aea"></span>7AEA</td>
<td class="instruction">POP AF</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_10</td>
<td class="address-2"><span id="7aeb"></span>7AEB</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aec"></span>7AEC</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aed"></span>7AED</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aee"></span>7AEE</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aef"></span>7AEF</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af1"></span>7AF1</td>
<td class="instruction">SUB C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af2"></span>7AF2</td>
<td class="instruction">JR C,<a href="79B2.html#7b0c">Handler_AlienExplosions_12</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7b0c">Handler_AlienExplosions_12</a> if <span class="register">A</span> is less than <span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af4"></span>7AF4</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">AF</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af5"></span>7AF5</td>
<td class="instruction">PUSH AF</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af6"></span>7AF6</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="3"><span class="register">E</span>-=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af7"></span>7AF7</td>
<td class="instruction">SUB C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af8"></span>7AF8</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7af9"></span>7AF9</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1">Increment <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7afa"></span>7AFA</td>
<td class="instruction">CALL <a href="6845.html">Handler_Mask</a></td>
<td class="comment-1" rowspan="1">Call <a href="6845.html">Handler_Mask</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7afd"></span>7AFD</td>
<td class="instruction">DEC E</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7afe"></span>7AFE</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1">Restore <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7aff"></span>7AFF</td>
<td class="instruction">JR Z,<a href="79B2.html#7b0b">Handler_AlienExplosions_11</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7b0b">Handler_AlienExplosions_11</a> until <span class="register">E</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b01"></span>7B01</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b02"></span>7B02</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b03"></span>7B03</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7b0b">Handler_AlienExplosions_11</a> if <span class="register">C</span> is equal to 10.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b04"></span>7B04</td>
<td class="instruction">CP $10</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b06"></span>7B06</td>
<td class="instruction">JR Z,<a href="79B2.html#7b0b">Handler_AlienExplosions_11</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b08"></span>7B08</td>
<td class="instruction">CALL <a href="684E.html">Handler_EggsplosionLeft</a></td>
<td class="comment-1" rowspan="1">Call <a href="684E.html">Handler_EggsplosionLeft</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_11</td>
<td class="address-2"><span id="7b0b"></span>7B0B</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="2">Restore <span class="register">BC</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_12</td>
<td class="address-2"><span id="7b0c"></span>7B0C</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b0d"></span>7B0D</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b0e"></span>7B0E</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1">Increment <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b0f"></span>7B0F</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b10"></span>7B10</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b12"></span>7B12</td>
<td class="instruction">ADD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b13"></span>7B13</td>
<td class="instruction">CP $20</td>
<td class="comment-1" rowspan="2">Jump to <a href="79B2.html#7b2f">Handler_AlienExplosions_13</a> if <span class="register">A</span> is greater than or equal to 20.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b15"></span>7B15</td>
<td class="instruction">JR NC,<a href="79B2.html#7b2f">Handler_AlienExplosions_13</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b17"></span>7B17</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b18"></span>7B18</td>
<td class="instruction">CP $1F</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 1F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b1a"></span>7B1A</td>
<td class="instruction">PUSH AF</td>
<td class="comment-1" rowspan="1">Stash <span class="register">AF</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b1b"></span>7B1B</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="3"><span class="register">E</span>+=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b1c"></span>7B1C</td>
<td class="instruction">ADD A,C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b1d"></span>7B1D</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b1e"></span>7B1E</td>
<td class="instruction">DEC DE</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">DE</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b1f"></span>7B1F</td>
<td class="instruction">CALL <a href="6845.html">Handler_Mask</a></td>
<td class="comment-1" rowspan="1">Call <a href="6845.html">Handler_Mask</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b22"></span>7B22</td>
<td class="instruction">INC DE</td>
<td class="comment-1" rowspan="1">Increment <span class="register">DE</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b23"></span>7B23</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="2">Restore <span class="register">AF</span> and <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b24"></span>7B24</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b25"></span>7B25</td>
<td class="instruction">JR Z,<a href="79B2.html#7b2f">Handler_AlienExplosions_13</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7b2f">Handler_AlienExplosions_13</a> if ??? is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b27"></span>7B27</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7b2f">Handler_AlienExplosions_13</a> if <span class="register">C</span> is equal to 10.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b28"></span>7B28</td>
<td class="instruction">CP $10</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b2a"></span>7B2A</td>
<td class="instruction">JR Z,<a href="79B2.html#7b2f">Handler_AlienExplosions_13</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b2c"></span>7B2C</td>
<td class="instruction">CALL <a href="6853.html">Handler_EggsplosionRight</a></td>
<td class="comment-1" rowspan="1">Call <a href="6853.html">Handler_EggsplosionRight</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_13</td>
<td class="address-2"><span id="7b2f"></span>7B2F</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="2">Restore <span class="register">DE</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_14</td>
<td class="address-2"><span id="7b30"></span>7B30</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b31"></span>7B31</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b32"></span>7B32</td>
<td class="instruction">LD A,($66F1)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="66F1.html">Phase</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b35"></span>7B35</td>
<td class="instruction">AND %00000010</td>
<td class="comment-1" rowspan="1">Keep only bit 1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b37"></span>7B37</td>
<td class="instruction">LD A,$0B</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=0B.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b39"></span>7B39</td>
<td class="instruction">JR Z,<a href="79B2.html#7b3d">Handler_AlienExplosions_15</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="79B2.html#7b3d">Handler_AlienExplosions_15</a> if bit 1 of *<a href="66F1.html">Phase</a> was not set.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b3b"></span>7B3B</td>
<td class="instruction">LD A,$11</td>
<td class="comment-1" rowspan="3">Jump to <a href="79B2.html#7b5e">AlienExplosions_Continue</a> if *<span class="register">HL</span> is not equal to 11.</td>
</tr>
<tr>
<td class="asm-label">Handler_AlienExplosions_15</td>
<td class="address-2"><span id="7b3d"></span>7B3D</td>
<td class="instruction">CP (HL)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b3e"></span>7B3E</td>
<td class="instruction">JR NZ,<a href="79B2.html#7b5e">AlienExplosions_Continue</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b40"></span>7B40</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-1" rowspan="1">Write 00 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b42"></span>7B42</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b43"></span>7B43</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b44"></span>7B44</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b47"></span>7B47</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b48"></span>7B48</td>
<td class="instruction">LD BC,$50C0</td>
<td class="comment-1" rowspan="3"><span class="register">HL</span>-=50C0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b4b"></span>7B4B</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b4c"></span>7B4C</td>
<td class="instruction">SBC HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b4e"></span>7B4E</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b4f"></span>7B4F</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="7b50"></span>
<div class="comments">
<div class="paragraph">
Prints
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b50"></span>7B50</td>
<td class="instruction">LD HL,$3F1B</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a "noopener nofollow" href="https://skoolkit.ca/disassemblies/rom/hex/asm/3D00.html#3F1B">3F1B</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b53"></span>7B53</td>
<td class="instruction">LD BC,$0300</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0300.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b56"></span>7B56</td>
<td class="instruction">CALL C,<a href="676F.html#6775">SpectrumFont_PrintString</a></td>
<td class="comment-1" rowspan="1">Call <a href="676F.html#6775">SpectrumFont_PrintString</a> if ?? is less than 00.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b59"></span>7B59</td>
<td class="instruction">LD HL,$667F</td>
<td class="comment-1" rowspan="2">Decrease *<a href="667F.html">EnemyCount</a> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b5c"></span>7B5C</td>
<td class="instruction">DEC (HL)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b5d"></span>7B5D</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore the explosion slot pointer from the stack.</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_Continue</td>
<td class="address-2"><span id="7b5e"></span>7B5E</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore the explosion slot counter from the stack.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="7b5f"></span>
<div class="comments">
<div class="paragraph">
Move to the next explosion slot.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">AlienExplosions_NextSlot</td>
<td class="address-2"><span id="7b5f"></span>7B5F</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="3">Move the explosion slot pointer to the next explosion slot.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b60"></span>7B60</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b61"></span>7B61</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b62"></span>7B62</td>
<td class="instruction">DEC B</td>
<td class="comment-1" rowspan="1">Decrease the explosion slot counter by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b63"></span>7B63</td>
<td class="instruction">JP NZ,<a href="79B2.html#79bd">AlienExplosions_Loop</a></td>
<td class="comment-1" rowspan="1">Jump back to <a href="79B2.html#79bd">AlienExplosions_Loop</a> until all explosion slots have been processed.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b66"></span>7B66</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="7616.html">7616</a>
</td>
<td class="up">Up: <a href="../maps/all.html#79b2">Map</a></td>
<td class="next">
Next: <a href="7B67.html">7B67</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Megadodo Software &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/pheenix/">Source code</a>.</div>
<div><a href="../dec/asm/31154.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>