<!DOCTYPE html>
<html>
<head>
<title>Pheenix: Routine at 7B67</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="79B2.html">79B2</a>
</td>
<td class="up">Up: <a href="../maps/all.html#7b67">Map</a></td>
<td class="next">
Next: <a href="7C82.html">7C82</a>
</td>
</tr>
</table>
<div class="description">7B67: Handler: Aliens</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="7C82.html">TitleScreen</a> and <a href="7DD9.html">StartGame</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="7b67"></span>
<div class="comments">
<div class="paragraph">
See <a href="../reference/pokes.html#aliens-not-fire">Aliens Don't Fire</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens</td>
<td class="address-2"><span id="7b67"></span>7B67</td>
<td class="instruction">LD A,($6691)</td>
<td class="comment-1" rowspan="3">Return if *<a href="6691.html">6691</a> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b6a"></span>7B6A</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b6b"></span>7B6B</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b6c"></span>7B6C</td>
<td class="instruction">LD A,($6695)</td>
<td class="comment-1" rowspan="3">Return if <span class="register">A</span>=*<a href="6695.html">6695</a> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b6f"></span>7B6F</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b70"></span>7B70</td>
<td class="instruction">RET NZ</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b71"></span>7B71</td>
<td class="instruction">LD HL,$66A7</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="66A7.html">66A7</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b74"></span>7B74</td>
<td class="instruction">LD B,$06</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=06.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_0</td>
<td class="address-2"><span id="7b76"></span>7B76</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b77"></span>7B77</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b78"></span>7B78</td>
<td class="instruction">LD E,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b79"></span>7B79</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b7a"></span>7B7A</td>
<td class="instruction">LD D,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b7b"></span>7B7B</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c18">Handler_Aliens_12</a> if <span class="register">D</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b7c"></span>7B7C</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b7d"></span>7B7D</td>
<td class="instruction">JP NZ,<a href="7B67.html#7c18">Handler_Aliens_12</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b80"></span>7B80</td>
<td class="instruction">LD A,($66A4)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c76">Handler_Aliens_19</a> if *<a href="66A4.html">66A4</a> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b83"></span>7B83</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b84"></span>7B84</td>
<td class="instruction">JP NZ,<a href="7B67.html#7c76">Handler_Aliens_19</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b87"></span>7B87</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b88"></span>7B88</td>
<td class="instruction">LD HL,$66B9</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="66B9.html">66B9</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b8b"></span>7B8B</td>
<td class="instruction">LD A,($66BA)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7ba3">Handler_Aliens_3</a> if *<a href="66BA.html">66BA</a> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b8e"></span>7B8E</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b8f"></span>7B8F</td>
<td class="instruction">JR NZ,<a href="7B67.html#7ba3">Handler_Aliens_3</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b91"></span>7B91</td>
<td class="instruction">LD A,($66F1)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="66F0.html#66f1">66F1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b94"></span>7B94</td>
<td class="instruction">AND %00000110</td>
<td class="comment-1" rowspan="1">Keep only bits 1-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b96"></span>7B96</td>
<td class="instruction">LD A,$1C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=1C.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b98"></span>7B98</td>
<td class="instruction">JR Z,<a href="7B67.html#7b9c">Handler_Aliens_1</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7b9c">Handler_Aliens_1</a> if <span class="register">HL</span> is equal to <span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b9a"></span>7B9A</td>
<td class="instruction">LD A,$0E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=0E.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_1</td>
<td class="address-2"><span id="7b9c"></span>7B9C</td>
<td class="instruction">CP (HL)</td>
<td class="comment-1" rowspan="2">Jump to <a href="7B67.html#7ba1">Handler_Aliens_2</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b9d"></span>7B9D</td>
<td class="instruction">JR NZ,<a href="7B67.html#7ba1">Handler_Aliens_2</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7b9f"></span>7B9F</td>
<td class="instruction">LD (HL),$FE</td>
<td class="comment-1" rowspan="1">Write FE to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_2</td>
<td class="address-2"><span id="7ba1"></span>7BA1</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="2">Increment *<span class="register">HL</span> by two.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ba2"></span>7BA2</td>
<td class="instruction">INC (HL)</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_3</td>
<td class="address-2"><span id="7ba3"></span>7BA3</td>
<td class="instruction">LD L,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ba4"></span>7BA4</td>
<td class="instruction">LD H,$00</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=00.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ba6"></span>7BA6</td>
<td class="instruction">LD DE,$65DD</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=<a href="65DD.html">65DD</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7ba9"></span>7BA9</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7baa"></span>7BAA</td>
<td class="instruction">LD E,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bab"></span>7BAB</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bac"></span>7BAC</td>
<td class="instruction">LD D,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bad"></span>7BAD</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7bb7">Handler_Aliens_4</a> if <span class="register">D</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bae"></span>7BAE</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7baf"></span>7BAF</td>
<td class="instruction">JR NZ,<a href="7B67.html#7bb7">Handler_Aliens_4</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bb1"></span>7BB1</td>
<td class="instruction">LD HL,$66BA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="66BA.html">66BA</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bb4"></span>7BB4</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bb5"></span>7BB5</td>
<td class="instruction">JR <a href="7B67.html#7c15">Handler_Aliens_11</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c15">Handler_Aliens_11</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_4</td>
<td class="address-2"><span id="7bb7"></span>7BB7</td>
<td class="instruction">CALL <a href="66F7.html">ConvertScreenToAttributeBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="66F7.html">ConvertScreenToAttributeBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bba"></span>7BBA</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c15">Handler_Aliens_11</a> if <span class="register">D</span> is equal to 58.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bbb"></span>7BBB</td>
<td class="instruction">CP $58</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bbd"></span>7BBD</td>
<td class="instruction">JR Z,<a href="7B67.html#7c15">Handler_Aliens_11</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bbf"></span>7BBF</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bc0"></span>7BC0</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bc2"></span>7BC2</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bc3"></span>7BC3</td>
<td class="instruction">LD A,($66ED)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="66ED.html">66ED</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bc6"></span>7BC6</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bc8"></span>7BC8</td>
<td class="instruction">CP B</td>
<td class="comment-1" rowspan="2">Jump to <a href="7B67.html#7bd2">Handler_Aliens_6</a> if <span class="register">A</span> is less than <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bc9"></span>7BC9</td>
<td class="instruction">JR C,<a href="7B67.html#7bd2">Handler_Aliens_6</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bcb"></span>7BCB</td>
<td class="instruction">SUB B</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=<span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_5</td>
<td class="address-2"><span id="7bcc"></span>7BCC</td>
<td class="instruction">CP $08</td>
<td class="comment-1" rowspan="2">Jump to <a href="7B67.html#7c15">Handler_Aliens_11</a> if <span class="register">A</span> is greater than or equal to 08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bce"></span>7BCE</td>
<td class="instruction">JR NC,<a href="7B67.html#7c15">Handler_Aliens_11</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bd0"></span>7BD0</td>
<td class="instruction">JR <a href="7B67.html#7bd7">Handler_Aliens_7</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7bd7">Handler_Aliens_7</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_6</td>
<td class="address-2"><span id="7bd2"></span>7BD2</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bd3"></span>7BD3</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="2"><span class="register">A</span>=<span class="register">B</span>-<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bd4"></span>7BD4</td>
<td class="instruction">SUB C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bd5"></span>7BD5</td>
<td class="instruction">JR <a href="7B67.html#7bcc">Handler_Aliens_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7bcc">Handler_Aliens_5</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_7</td>
<td class="address-2"><span id="7bd7"></span>7BD7</td>
<td class="instruction">LD HL,$0041</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=0041+<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bda"></span>7BDA</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bdb"></span>7BDB</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bdc"></span>7BDC</td>
<td class="instruction">LD DE,$5AE0</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=5AE0 (attribute buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bdf"></span>7BDF</td>
<td class="instruction">LD A,($6693)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7be7">Handler_Aliens_8</a> if *<a href="6693.html">6693</a> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7be2"></span>7BE2</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7be3"></span>7BE3</td>
<td class="instruction">JR Z,<a href="7B67.html#7be7">Handler_Aliens_8</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7be5"></span>7BE5</td>
<td class="instruction">LD E,$C0</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=C0.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_8</td>
<td class="address-2"><span id="7be7"></span>7BE7</td>
<td class="instruction">SBC HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>-=<span class="register">DE</span> (with carry).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7be9"></span>7BE9</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bea"></span>7BEA</td>
<td class="instruction">JR NC,<a href="7B67.html#7c15">Handler_Aliens_11</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c15">Handler_Aliens_11</a> if <span class="register">A</span> is greater than or equal to <span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bec"></span>7BEC</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bed"></span>7BED</td>
<td class="instruction">LD HL,$66BA</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="66BA.html">66BA</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bf0"></span>7BF0</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bf1"></span>7BF1</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7bf8">Handler_Aliens_9</a> if *<span class="register">HL</span> is not equal to 04.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bf2"></span>7BF2</td>
<td class="instruction">CP $04</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bf4"></span>7BF4</td>
<td class="instruction">JR NZ,<a href="7B67.html#7bf8">Handler_Aliens_9</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bf6"></span>7BF6</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-1" rowspan="1">Write 00 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_9</td>
<td class="address-2"><span id="7bf8"></span>7BF8</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bf9"></span>7BF9</td>
<td class="instruction">LD A,($66F1)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="66F0.html#66f1">66F1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bfc"></span>7BFC</td>
<td class="instruction">AND %00000010</td>
<td class="comment-1" rowspan="1">Keep only bit 1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7bfe"></span>7BFE</td>
<td class="instruction">LD A,$03</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=03.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c00"></span>7C00</td>
<td class="instruction">JR Z,<a href="7B67.html#7c0a">Handler_Aliens_10</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c0a">Handler_Aliens_10</a> if <span class="register">HL</span> is equal to 03.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c02"></span>7C02</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c03"></span>7C03</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c0a">Handler_Aliens_10</a> if *<span class="register">HL</span> is not equal to 03.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c04"></span>7C04</td>
<td class="instruction">CP $03</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c06"></span>7C06</td>
<td class="instruction">JR NZ,<a href="7B67.html#7c0a">Handler_Aliens_10</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c08"></span>7C08</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="2">Write 00 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c09"></span>7C09</td>
<td class="instruction">LD (HL),A</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_10</td>
<td class="address-2"><span id="7c0a"></span>7C0A</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="3">Multiply <span class="register">A</span> by 08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c0b"></span>7C0B</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c0c"></span>7C0C</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c0d"></span>7C0D</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="2">Restore <span class="register">HL</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c0e"></span>7C0E</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c0f"></span>7C0F</td>
<td class="instruction">INC DE</td>
<td class="comment-1" rowspan="1">Increment <span class="register">DE</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c10"></span>7C10</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c11"></span>7C11</td>
<td class="instruction">LD IXl,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c13"></span>7C13</td>
<td class="instruction">JR <a href="7B67.html#7c41">Handler_Aliens_14</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c41">Handler_Aliens_14</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_11</td>
<td class="address-2"><span id="7c15"></span>7C15</td>
<td class="instruction">POP AF</td>
<td class="comment-1" rowspan="1">Restore <span class="register">AF</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c16"></span>7C16</td>
<td class="instruction">JR <a href="7B67.html#7c50">Handler_Aliens_15</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c50">Handler_Aliens_15</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_12</td>
<td class="address-2"><span id="7c18"></span>7C18</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c19"></span>7C19</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c50">Handler_Aliens_15</a> if *<span class="register">HL</span> is equal to 46.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c1a"></span>7C1A</td>
<td class="instruction">CP $46</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c1c"></span>7C1C</td>
<td class="instruction">JR Z,<a href="7B67.html#7c50">Handler_Aliens_15</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c1e"></span>7C1E</td>
<td class="instruction">CP $07</td>
<td class="comment-1" rowspan="2">Jump to <a href="7B67.html#7c50">Handler_Aliens_15</a> if *<span class="register">HL</span> is equal to 07.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c20"></span>7C20</td>
<td class="instruction">JR Z,<a href="7B67.html#7c50">Handler_Aliens_15</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c22"></span>7C22</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-1" rowspan="1">Write 00 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c24"></span>7C24</td>
<td class="instruction">INC DE</td>
<td class="comment-1" rowspan="1">Increment <span class="register">DE</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c25"></span>7C25</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c26"></span>7C26</td>
<td class="instruction">LD IXl,A</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c28"></span>7C28</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c29"></span>7C29</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c2c"></span>7C2C</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c2e"></span>7C2E</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=00.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_13</td>
<td class="address-2"><span id="7c2f"></span>7C2F</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c30"></span>7C30</td>
<td class="instruction">INC H</td>
<td class="comment-1" rowspan="1">Increment <span class="register">H</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c31"></span>7C31</td>
<td class="instruction">DJNZ <a href="7B67.html#7c2f">Handler_Aliens_13</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="7B67.html#7c2f">Handler_Aliens_13</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c33"></span>7C33</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c34"></span>7C34</td>
<td class="instruction">LD C,$20</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=20.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c36"></span>7C36</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c37"></span>7C37</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c38"></span>7C38</td>
<td class="instruction">LD BC,$5B00</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=5B00 (attribute buffer location).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c3b"></span>7C3B</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>-=<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c3c"></span>7C3C</td>
<td class="instruction">SBC HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c3e"></span>7C3E</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c3f"></span>7C3F</td>
<td class="instruction">JR NC,<a href="7B67.html#7c50">Handler_Aliens_15</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c50">Handler_Aliens_15</a> if <span class="register">H</span> is greater than or equal to <span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_14</td>
<td class="address-2"><span id="7c41"></span>7C41</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c54">Handler_Aliens_16</a> if *<span class="register">HL</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c42"></span>7C42</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c43"></span>7C43</td>
<td class="instruction">JR Z,<a href="7B67.html#7c54">Handler_Aliens_16</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c45"></span>7C45</td>
<td class="instruction">LD A,($6693)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c50">Handler_Aliens_15</a> if *<a href="6693.html">6693</a> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c48"></span>7C48</td>
<td class="instruction">OR A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c49"></span>7C49</td>
<td class="instruction">JR NZ,<a href="7B67.html#7c50">Handler_Aliens_15</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c4b"></span>7C4B</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7B67.html#7c54">Handler_Aliens_16</a> if *<span class="register">HL</span> is equal to 46.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c4c"></span>7C4C</td>
<td class="instruction">CP $46</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c4e"></span>7C4E</td>
<td class="instruction">JR Z,<a href="7B67.html#7c54">Handler_Aliens_16</a></td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_15</td>
<td class="address-2"><span id="7c50"></span>7C50</td>
<td class="instruction">LD D,$00</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=00.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c52"></span>7C52</td>
<td class="instruction">JR <a href="7B67.html#7c76">Handler_Aliens_19</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c76">Handler_Aliens_19</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_16</td>
<td class="address-2"><span id="7c54"></span>7C54</td>
<td class="instruction">LD A,($66F1)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="66F0.html#66f1">66F1</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c57"></span>7C57</td>
<td class="instruction">AND %00000010</td>
<td class="comment-1" rowspan="1">Keep only bit 1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c59"></span>7C59</td>
<td class="instruction">LD A,$45</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=45.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c5b"></span>7C5B</td>
<td class="instruction">JR Z,<a href="7B67.html#7c5f">Handler_Aliens_17</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7c5f">Handler_Aliens_17</a> if <span class="register">A</span> is equal to 45.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c5d"></span>7C5D</td>
<td class="instruction">LD A,$06</td>
<td class="comment-1" rowspan="2">Write 06 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_17</td>
<td class="address-2"><span id="7c5f"></span>7C5F</td>
<td class="instruction">LD (HL),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c60"></span>7C60</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c61"></span>7C61</td>
<td class="instruction">CALL <a href="6704.html">ConvertAttributeToScreenBufferAddress</a></td>
<td class="comment-1" rowspan="1">Call <a href="6704.html">ConvertAttributeToScreenBufferAddress</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c64"></span>7C64</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c65"></span>7C65</td>
<td class="instruction">LD HL,$602E</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="602E.html">Graphics_Bullets_01</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c68"></span>7C68</td>
<td class="instruction">LD C,IXl</td>
<td class="comment-1" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c6a"></span>7C6A</td>
<td class="instruction">LD B,$00</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=00.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c6c"></span>7C6C</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c6d"></span>7C6D</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1">Set a line counter in <span class="register">B</span> (08 lines in a UDG).</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_18</td>
<td class="address-2"><span id="7c6f"></span>7C6F</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="2">Copy the UDG data to the screen buffer.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c70"></span>7C70</td>
<td class="instruction">LD (DE),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c71"></span>7C71</td>
<td class="instruction">INC D</td>
<td class="comment-1" rowspan="1">Move down one pixel line in the screen buffer.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c72"></span>7C72</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Move to the next UDG graphic data byte.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c73"></span>7C73</td>
<td class="instruction">DJNZ <a href="7B67.html#7c6f">Handler_Aliens_18</a></td>
<td class="comment-1" rowspan="1">Decrease the line counter by one and loop back to <a href="7B67.html#7c6f">Handler_Aliens_18</a> until all 08 lines of the UDG character have been drawn.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c75"></span>7C75</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="2">Restore <span class="register">DE</span> and <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label">Handler_Aliens_19</td>
<td class="address-2"><span id="7c76"></span>7C76</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c77"></span>7C77</td>
<td class="instruction">LD (HL),E</td>
<td class="comment-1" rowspan="1">Write <span class="register">E</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c78"></span>7C78</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c79"></span>7C79</td>
<td class="instruction">LD (HL),D</td>
<td class="comment-1" rowspan="1">Write <span class="register">D</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c7a"></span>7C7A</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="2">Increment <span class="register">HL</span> by two.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c7b"></span>7C7B</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c7c"></span>7C7C</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c7d"></span>7C7D</td>
<td class="instruction">DEC B</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">B</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c7e"></span>7C7E</td>
<td class="instruction">JP NZ,<a href="7B67.html#7b76">Handler_Aliens_0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7B67.html#7b76">Handler_Aliens_0</a> if <span class="register">B</span> is not equal to 08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7c81"></span>7C81</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="79B2.html">79B2</a>
</td>
<td class="up">Up: <a href="../maps/all.html#7b67">Map</a></td>
<td class="next">
Next: <a href="7C82.html">7C82</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Megadodo Software &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.6.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/pheenix/">Source code</a>.</div>
<div><a href="../dec/asm/31591.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>